!function(){"use strict";var e=(e,t)=>{const n=e.filter(e=>e instanceof Element).reduce((e,t)=>(e.appendChild(t),e),document.createElement("div"));n.className="display-many-items","string"==typeof t&&(n.id=t);const s=document.createElement("details");if(s.id=t,t){if("string"==typeof t){const e=document.createElement("h1");e.style="display: inline;",e.innerHTML=t;const n=document.createElement("summary");n.appendChild(e),s.appendChild(n)}else if(t instanceof Element){const e=document.createElement("summary");t.style.display="inline",e.appendChild(t),s.appendChild(e)}}else;return s.appendChild(n),s.className="display-many",s},t=e=>{if(e.img)return e.img.cloneNode(!0);const t=document.createElement("img");return t.alt="avatar: "+e.userName,t.className="student-thumb-img",t.src=`https://github.com/${e.userName}.png?size=150`,e.img=t,t},n=(e,t)=>{const n=document.createElement("button");n.innerHTML=e;const s=document.createElement("a");return s.href=t,s.target="_blank",s.appendChild(n),s},s=(e,t="ul")=>e.filter(e=>e instanceof Element).map(e=>{const t=document.createElement("li");return t.appendChild(e),t}).reduce((e,t)=>(e.appendChild(t),e),document.createElement(t)),a=(e,t,n)=>{const s=document.createElement("button");return s.innerHTML=n||"details",s.onclick=()=>{const n=e(...t);state.body.innerHTML="",state.body.appendChild(n)},s},o=(o,m)=>{history.pushState({},null,window.location.pathname+"?coach="+m.userName);const d=document.createElement("div"),c=document.createElement("h1");c.innerHTML=m.name,d.appendChild(c);const u=document.createElement("h2");if(u.innerHTML=m.userName,d.appendChild(u),m.className){const e=document.createElement("h3");e.innerHTML=m.className,d.appendChild(e)}const i=document.createElement("div");i.style="display: flex; flex-direction: row; align-items : center";const l=t(m);i.appendChild(l);const p=n("issues: assigned",`https://github.com/${o.repoName}/${o.repoName}/issues?q=assignee%3A${m.userName}`),h=n("issues: authored",`https://github.com/${o.repoName}/${o.repoName}/issues?q=author%3A${m.userName}`),N=n(m.userName,`https://github.com/${m.userName}?tab=repositories`),b=n("coach bio",`https://github.com/${o.userName}/${o.repoName}/tree/master/coach-bios/${m.userName}.md`),$=s([p,h,N,b]);i.appendChild($),d.appendChild(i),d.appendChild(document.createElement("hr"));const C=document.createElement("h2");C.innerHTML=m.name+": Module Links";const g=m.modules.map(e=>{e=Object.assign({},e,o.modules.find(t=>t.repoName===e.repoName));const t=document.createElement("div");t.className="module-thumb";const d=document.createElement("h3");d.innerHTML=(e.number?e.number+". ":"")+e.repoName,t.appendChild(d);const c=document.createElement("div");if(c.style="display: inline;",c.appendChild(n("homework board: all student assignments",`https://github.com/${o.userName}/${o.repoName}/projects/${e.project}/`)),c.appendChild(document.createElement("br")),c.appendChild(n("all assigned assignments",`https://github.com/${o.userName}/${o.repoName}/projects/${e.project}/?card_filter_query=assignee%3A${m.userName}`)),e.weeks)for(let t=1;t<=e.weeks;t++)c.appendChild(document.createElement("br")),c.appendChild(n("all assigned week-"+t,`https://github.com/${o.userName}/${o.repoName}/projects/${e.project}/?card_filter_query=label%3Aweek-${t}+assignee%3A${m.userName}`));const u=n("issues: sunday review",`https://github.com/${o.userName}/${o.repoName}/issues/?q=milestone%3A${e.repoName}+label%3Asunday-review`),i=n("issues: assigned",`https://github.com/${o.userName}/${o.repoName}/issues/?q=milestone%3A${e.repoName}+assignee%3A${m.userName}`),l=n("issues: authored",`https://github.com/${o.userName}/${o.repoName}/issues/?q=milestone%3A${e.repoName}+author%3A${m.userName}`),p=n("module repo",`https://github.com/${o.userName}/${o.repoName}`),h=a(r,[o,e],"details"),N=s([c,u,i,l,p,h]);return t.appendChild(N),t}),E=e(g,C);return d.appendChild(E),d},r=(r,d)=>{history.pushState({},null,window.location.pathname+"?module="+d.repoName);const c=document.createElement("div"),u=document.createElement("h1");u.innerHTML=d.repoName,c.appendChild(u);const i=document.createElement("h2");i.className="module-thumb-status";const l=d.weeks?d.weeks+" weeks: ":"";i.innerHTML=l+d.status,c.appendChild(i);const p=document.createElement("div");if(p.style="display: inline;",p.innerHTML="homework board: ",p.appendChild(n("all homework",`https://github.com/${r.userName}/${r.repoName}/projects/${d.project}`)),d.weeks)for(let e=1;e<=d.weeks;e++)p.appendChild(document.createElement("br")),p.appendChild(n("homework: week-"+e,`https://github.com/${r.userName}/${r.repoName}/projects/${d.project}?card_filter_query=label%3Aweek-${e}`));const h=document.createElement("div");if(h.style="display: inline;",h.innerHTML="wednesday check-ins: ",h.appendChild(n("all check-ins",`https://github.com/${r.userName}/${r.repoName}/issues/?q=milestone%3A${d.repoName}+label%3Awednesday-check-in`)),d.weeks)for(let e=1;e<=d.weeks;e++)h.appendChild(document.createElement("br")),h.appendChild(n("check-ins: week-"+e,`https://github.com/${r.userName}/${r.repoName}/issues/?q=milestone%3A${d.repoName}+label%3Awednesday-check-in+label%3Aweek-${e}`));const N=n("sunday review issues",`https://github.com/${r.userName}/${r.repoName}/issues/?q=milestone%3A${d.repoName}+label%3Asunday-review`),b=n("all issues",`https://github.com/${r.userName}/${r.repoName}/issues/?q=milestone%3A${d.repoName}`),$=n("shared notes",`https://github.com/${r.userName}/${r.repoName}/tree/master/shared-notes/${d.repoName}`),C=document.createElement("div");if(C.style="display: inline;",C.innerHTML="module repository",C.appendChild(n("main page",`https://github.com/${d.userName||r.userName}/${r.repoName}`)),d.weeks)for(let e=1;e<=d.weeks;e++)C.appendChild(document.createElement("br")),C.appendChild(document.createTextNode(`week ${e}:`)),C.appendChild(n("assignments",`https://github.com/${d.userName||r.userName}/${d.repoName}/tree/master/week-${e}`)),C.appendChild(n("lesson plan",`https://hackyourfuture.be/${d.repoName}/week-${e}`));const g=document.createElement("div");g.appendChild(N),g.appendChild(document.createElement("br")),g.appendChild(b),g.appendChild(document.createElement("br")),g.appendChild($);const E=s([C,p,h,g]);E.style="display: flex; flex-direction: row; justify-content: space-around;",c.appendChild(E),c.appendChild(document.createElement("hr"));const y=document.createElement("h2");y.innerHTML=`<code>${d.repoName}</code>: Student Links`;const f=r.students.map(e=>{const o=document.createElement("div");o.id=e.name,o.className="student-thumb";const c=t(e);o.appendChild(c);const u=document.createElement("h2");u.innerHTML=e.name,u.className="student-thumb-name";let i=null;e.className&&(i=document.createElement("text"),i.innerHTML=e.className);const l=n(e.userName,`https://github.com/${e.userName}?tab=repositories`),p=n("homework progress",`https://github.com/${r.userName}/${r.repoName}/projects/${d.project}?card_filter_query=author%3A${e.userName}`),h=n("all authored issues",`https://github.com/${r.userName}/${r.repoName}/issues/?q=milestone%3A${d.repoName}+author%3A${e.userName}`),N=n("all assigned issues",`https://github.com/${r.userName}/${r.repoName}/issues/?q=milestone%3A${d.repoName}+assignee%3A${e.userName}`),b=a(m,[r,e],"details"),$=s([u,i,p,h,N,l,b]);return o.appendChild($),o});if("to do"!==d.status){const t=e(f,y);c.appendChild(t)}c.appendChild(document.createElement("hr"));const w=document.createElement("h2");w.innerHTML=`<code>${d.repoName}</code>: Coach Links`;const k=r.coaches.map(e=>{if(!e.modules.find(e=>e.repoName===d.repoName))return;const m=document.createElement("div");m.id=e.name,m.className="student-thumb";const c=t(e);m.appendChild(c);const u=document.createElement("h2");u.innerHTML=e.name,u.className="student-thumb-name",document.createElement("text").innerHTML=e.userName;const i=n("homework to review",`https://github.com/${r.userName}/${r.repoName}/projects/${d.project}?card_filter_query=assignee%3A${e.userName}`),l=n("all assigned issues",`https://github.com/${r.userName}/${r.repoName}/issues/?q=milestone%3A${d.repoName}+assignee%3A${e.userName}`),p=n("all authored issues",`https://github.com/${r.userName}/${r.repoName}/issues/?q=milestone%3A${d.repoName}+author%3A${e.userName}`);let h;if(Array.isArray(e.modules)){const t=e.modules.find(e=>e.repoName===d.repoName).role;t&&(h=document.createElement("text"),h.innerHTML=t)}const N=a(o,[r,e],"details"),b=s([u,h,i,l,p,N]);return m.appendChild(b),m}),M=e(k,w);return c.appendChild(M),c},m=(o,m)=>{history.pushState({},null,window.location.pathname+"?student="+m.userName);const d=document.createElement("div"),c=document.createElement("h1");c.innerHTML=m.name,d.appendChild(c);const u=document.createElement("h2");if(u.innerHTML=m.userName,d.appendChild(u),m.className){const e=document.createElement("h3");e.innerHTML=m.className,d.appendChild(e)}const i=document.createElement("div");i.style="display: flex; flex-direction: row; align-items : center";const l=t(m);i.appendChild(l);const p=n("repositories",`https://github.com/${m.userName}?tab=repositories`),h=n("portfolio","https://"+m.userName+".github.io"),N=n("student bio",`https://github.com/${o.userName}/${o.repoName}/tree/master/student-bios/${m.userName}.md`),b=n("learnables",`https://github.com/${m.userName}?tab=projects`),$=n("hack-my-future",`https://github.com/${m.userName}/hack-my-future`),C=document.createElement("div");C.style="display: inline;",C.innerHTML="class issues: ",C.appendChild(n("homework ",`https://github.com/${o.userName}/${o.repoName}/issues?q=author%3A${m.userName}+label%3Ahomework`)),C.appendChild(n("check-ins",`https://github.com/${o.userName}/${o.repoName}/issues?q=author%3A${m.userName}+label%3Awednesday-check-in`)),C.appendChild(n("sunday review",`https://github.com/${o.userName}/${o.repoName}/issues?q=author%3A${m.userName}+label%3Asunday-review`)),C.appendChild(n("authored",`https://github.com/${o.userName}/${o.repoName}/issues?q=author%3A${m.userName}`)),C.appendChild(n("assigned ",`https://github.com/${o.userName}/${o.repoName}/issues?q=assignee%3A${m.userName}`)),C.appendChild(n("pull requests",`https://github.com/${o.userName}/${o.repoName}/issues?q=author%3A${m.userName}+is%3Apr`));const g=s([C,p,b,$,h,N]);i.appendChild(g),d.appendChild(i);const E=(e=>{if(e.activity)return e.activity.cloneNode(!0);const t=document.createElement("img");return t.alt="activity: "+e.userName,t.src="https://ghchart.rshah.org/"+e.userName,e.activity=t,t})(m);d.appendChild(E),d.appendChild(document.createElement("hr"));const y=document.createElement("h2");y.innerHTML=m.name+": Module Links";const f=o.modules.map(e=>{const t=document.createElement("div");t.className="module-thumb";const d=document.createElement("h3");d.innerHTML=(e.number?e.number+". ":"")+e.repoName,t.appendChild(d);const c=document.createElement("text");c.innerHTML=e.status;const u=document.createElement("div");if(u.style="display: inline;",u.appendChild(n("homework board: "+m.userName,`https://github.com/${o.userName}/${o.repoName}/projects/${e.project}/?card_filter_query=author%3A${m.userName}`)),e.weeks)for(let t=1;t<=e.weeks;t++)u.appendChild(document.createElement("br")),u.appendChild(n(m.userName+": week-"+t,`https://github.com/${o.userName}/${o.repoName}/projects/${e.project}/?card_filter_query=label%3Aweek-${t}+author%3A${m.userName}`));const i=n("issues: homework",`https://github.com/${o.userName}/${o.repoName}/issues/?q=milestone%3A${e.repoName}+author%3A${m.userName}+label%3Ahomework`),l=n("issues: check-ins",`https://github.com/${o.userName}/${o.repoName}/issues/?q=milestone%3A${e.repoName}+author%3A${m.userName}+label%3Awednesday-check-in`),p=n("issues: sunday review",`https://github.com/${o.userName}/${o.repoName}/issues/?q=milestone%3A${e.repoName}+author%3A${m.userName}+label%3Asunday-review`),h=n("issues: assigned",`https://github.com/${o.userName}/${o.repoName}/issues/?q=milestone%3A${e.repoName}+assignee%3A${m.userName}`),N=n("issues: authored",`https://github.com/${o.userName}/${o.repoName}/issues/?q=milestone%3A${e.repoName}+author%3A${m.userName}`),b=a(r,[o,e],"details"),$="to do"===e.status?s([c]):s([c,u,i,l,p,N,h,b]);return t.appendChild($),t}),w=e(f,y);return d.appendChild(w),d},d=(e,a)=>{const o=t(a),r=document.createElement("h2");r.innerHTML=a.name,r.className="student-thumb-name";const d=n(a.userName,`https://github.com/${a.userName}?tab=repositories`),c=n("learnables",`https://github.com/${a.userName}?tab=projects`),u=n("student bio",`https://github.com/${e.userName}/${e.repoName}/tree/master/student-bios/${a.userName}.md`),i=document.createElement("button");i.innerHTML="details",i.onclick=()=>{const t=m(e,a);e.body.innerHTML="",e.body.appendChild(t)};const l=n("all issues",`https://github.com/${e.userName}/${e.repoName}/issues?q=author%3A${a.userName}`),p=n("portfolio",`https://${a.userName}.github.io`),h=(()=>{if(a.className){const e=document.createElement("text");return e.innerHTML=a.className,e}return null})(),N=s([r,h,d,p,u,c,l,i]),b=document.createElement("div");return b.id=a.name,b.className="student-thumb",b.appendChild(o),b.appendChild(N),b},c=(e,t)=>{const a=document.createElement("h2");a.innerHTML=t.number+". "+t.repoName;const o=document.createElement("text");o.className="module-thumb-status";const m=t.weeks?t.weeks+" weeks: ":"";o.innerHTML=m+t.status;const d=n("homework board",`https://github.com/${e.userName}/${e.repoName}/projects/${t.project}`),c=n("module repo",`https://github.com/${t.userName||e.userName}/${t.repoName}`),u=n("shared notes",`https://github.com/${e.userName}/${e.repoName}/tree/master/shared-notes/${t.repoName}`),i=n("all issues",`https://github.com/${e.userName}/${e.repoName}/issues?q=milestone%3A${t.repoName}`),l=n("sunday reviews",`https://github.com/${e.userName}/${e.repoName}/issues?q=milestone%3A${t.repoName}+label%3Asunday-review`),p=n("wednesday check-ins",`https://github.com/${e.userName}/${e.repoName}/issues?q=milestone%3A${t.repoName}+label%3Awednesday-check-in`),h=document.createElement("button");h.innerHTML="details",h.onclick=()=>{const n=r(e,t);e.body.innerHTML="",e.body.appendChild(n)};const N="to do"===t.status?s([o]):s([o,d,p,l,i,u,c,h]),b=document.createElement("div");return b.id=t.repoNameName,b.className="module-thumb",b.appendChild(a),b.appendChild(N),b},u=e=>{history.pushState({},null,window.location.pathname+"?randomizer=true");const t=document.createElement("div"),n=document.createElement("div"),s=document.createTextNode("group size: ");n.appendChild(s);const a=document.createElement("input");a.value="2",a.type="number",n.appendChild(a);const o=document.createElement("button");o.innerHTML="create groups",o.onclick=function(){r.innerHTML="";const t=Math.random();if(t<1/3){const e=document.createElement("h1");e.innerHTML="Coaches' Choice",r.appendChild(e)}else if(t<2/3){const e=document.createElement("h1");e.innerHTML="Students' Choice",r.appendChild(e)}else{const t=function(e,t){var n,s,a=(e=e.map(e=>e)).length;for(;0!==a;)s=Math.floor(Math.random()*a),n=e[a-=1],e[a]=e[s],e[s]=n;const o=[];for(;e.length>=t;)o.push(e.splice(0,t));e.length<t/2+1?o[o.length-1].push(...e):o.push(e);return o}([...e.students],a.value);console.log(t);for(let n of t){const t=document.createElement("div");t.style="display: flex; flex-direction: row; flex-wrap: wrap;";for(let s of n){const n=d(e,s);t.appendChild(n)}r.appendChild(t),r.appendChild(document.createElement("hr"))}}},n.appendChild(o),t.appendChild(n);const r=document.createElement("div");return t.appendChild(r),t};var i=a=>{const r=document.createElement("div");return r.className="home",r.appendChild(e(a.students.map(e=>d(a,e)),"Students: "+a.repoName)),r.appendChild(document.createElement("hr")),r.appendChild(document.createElement("hr")),r.appendChild(e(a.coaches.map(e=>((e,a)=>{const r=t(a),m=document.createElement("h2");m.innerHTML=a.name,m.className="student-thumb-name";const d=n(a.userName,"https://github.com/"+a.userName),c=n("coach bio",`https://github.com/${e.userName}/${e.repoName}/tree/master/coach-bios/${a.userName}.md`),u=document.createElement("button");u.innerHTML="details",u.onclick=()=>{const t=o(e,a);e.body.innerHTML="",e.body.appendChild(t)};const i=n("assigned issues",`https://github.com/${e.userName}/${e.repoName}/issues?q=assignee%3A${a.userName}`),l=a.modules.map(e=>{const t=document.createElement("text");return t.innerHTML=`<code>${e.repoName}</code>`,t}),p=s([m,d,c,i,...l,u]),h=document.createElement("div");return h.id=a.name,h.className="student-thumb",h.appendChild(r),h.appendChild(p),h})(a,e)),"Coaches: "+a.repoName)),r.appendChild(document.createElement("hr")),r.appendChild(document.createElement("hr")),r.appendChild(e(a.modules.map(e=>c(a,e)),"Modules: "+a.repoName)),r},l=e=>{const t=document.createElement("div");t.className="header-footer",t.id="class-app",t.appendChild(document.createElement("hr"));const n=document.createElement("div");n.className="header-footer-header";const s=document.createElement("button");s.innerHTML="Class Home Page";s.onclick=()=>{history.pushState({},null,window.location.pathname),e.currentModule=null,e.currentStudent=null,e.body.innerHTML="",e.body.appendChild(i(e))},n.appendChild(s);const a=document.createElement("a");a.href="https://github.com/"+e.userName+"/"+e.repoName+"/projects",a.target="_blank";const o=document.createElement("button");o.innerHTML="Class HW Boards",a.appendChild(o),n.appendChild(a);const r=document.createElement("a");r.href="https://github.com/"+e.userName+"/"+e.repoName+"/issues?q=label%3Asunday-review",r.target="_blank";const m=document.createElement("button");m.innerHTML="Sunday Reviews",r.appendChild(m),n.appendChild(r);const d=document.createElement("a");d.href="https://github.com/"+e.userName+"/"+e.repoName+"/issues",d.target="_blank";const c=document.createElement("button");c.innerHTML="Class Issues",d.appendChild(c),n.appendChild(d);const l=document.createElement("a");l.href="https://github.com/"+e.userName+"/"+e.repoName,l.target="_blank";const p=document.createElement("button");p.innerHTML="Class Repo",l.appendChild(p),n.appendChild(l);const h=document.createElement("button");h.innerHTML="Randomizer",h.onclick=()=>{e.currentModule=null,e.currentStudent=null,e.body.innerHTML="",e.body.appendChild(u(e))},n.appendChild(h),n.appendChild(document.createElement("br")),n.appendChild(document.createElement("br"));const N=document.createElement("a");N.href="https://home.hackyourfuture.be/",N.target="_blank";const b=document.createElement("button");b.innerHTML="HYF Home",N.appendChild(b),n.appendChild(N);const $=document.createElement("a");$.href="https://home.hackyourfuture.be/students/homework-submission",$.target="_blank";const C=document.createElement("button");C.innerHTML="Homework Submission",$.appendChild(C),n.appendChild($);const g=document.createElement("a");g.href="https://study.hackyourfuture.be",g.target="_blank";const E=document.createElement("button");E.innerHTML="Study Links",g.appendChild(E),n.appendChild(g);const y=document.createElement("a");y.href="https://home.hackyourfuture.be/curriculum",y.target="_blank";const f=document.createElement("button");f.innerHTML="Curriculum",y.appendChild(f),n.appendChild(y);const w=document.createElement("a");w.href="https://home.hackyourfuture.be/students",w.target="_blank";const k=document.createElement("button");return k.innerHTML="Student Guidebook",w.appendChild(k),n.appendChild(w),t.appendChild(n),t.appendChild(document.createElement("hr")),t};window.onload=()=>{const e=e=>fetch(e).then(e=>e.json()).catch(e=>console.log(e));console.log("loading data ..."),Promise.all([e("./class-data/index.json"),e("./class-data/students.json"),e("./class-data/coaches.json"),e("./class-data/modules.json")]).then(e=>{console.log("building state ...");const t=e[0];t.students=e[1],t.coaches=e[2],t.modules=e[3],t.modules.forEach(e=>{e.coaches=[],t.coaches.forEach(t=>{t.modules.find(e=>e.repoName)&&e.coaches.push(t)})}),console.log("rendering ..."),window.state=((e,t)=>{e.container||(e.container=t instanceof Element?t:"string"==typeof t?document.getElementById(t):document.createElement("div")),e.body=document.createElement("div"),e.body.id="body",e.body.style="padding-top: 3%; padding-bottom: 3%;";const n=document.createElement("h1");n.innerHTML=e.repoName,n.className="header-footer-title",e.container.appendChild(n),e.container.appendChild(l(e)),e.container.appendChild(e.body),e.container.appendChild(l(e)),e.container.appendChild(document.createElement("br")),e.students.forEach(e=>e.views={});const s=new URL(window.location.href).searchParams;if(s.get("randomizer"))return e.currentModule=null,e.currentStudent=null,e.body.innerHTML="",e.body.appendChild(u(e)),e;const a=s.get("student");e.currentStudent=e.students.find(e=>e.name===a)||e.students.find(e=>e.userName===a);const p=s.get("module");e.currentModule=e.modules.find(e=>e.repoName===p);const h=s.get("coach");return e.currentCoach=e.coaches.find(e=>e.userName===h),e.currentStudent&&e.currentModule?(e.body.appendChild(d(e,e.currentStudent)),e.body.appendChild(document.createElement("hr")),e.body.appendChild(c(e,e.currentModule))):e.currentStudent?e.body.appendChild(m(e,e.currentStudent)):e.currentCoach?e.body.appendChild(o(e,e.currentCoach)):e.currentModule?e.body.appendChild(r(e,e.currentModule)):e.body.appendChild(i(e)),e})(t,document.getElementById("root")),console.log("initial state:",state)}).catch(e=>console.error(e))}}();

!function(){"use strict";var e=(e,t)=>{const n=e.filter(e=>e instanceof Element).reduce((e,t)=>(e.appendChild(t),e),document.createElement("div"));n.className="display-many-items","string"==typeof t&&(n.id=t);const a=document.createElement("details");if(a.id=t,t){if("string"==typeof t){const e=document.createElement("h1");e.style="display: inline;",e.innerHTML=t;const n=document.createElement("summary");n.appendChild(e),a.appendChild(n)}else if(t instanceof Element){const e=document.createElement("summary");t.style.display="inline",e.appendChild(t),a.appendChild(e)}}else;return a.appendChild(n),a.className="display-many",a},t=e=>{if(e.img)return e.img.cloneNode(!0);const t=document.createElement("img");return t.alt="avatar: "+e.userName,t.className="student-thumb-img",t.src=`https://github.com/${e.userName}.png?size=150`,e.img=t,t},n=(e,t)=>{const n=document.createElement("button");n.innerHTML=e;const a=document.createElement("a");return a.href=t,a.target="_blank",a.appendChild(n),a},a=(e,t="ul")=>e.filter(e=>e instanceof Element).map(e=>{const t=document.createElement("li");return t.appendChild(e),t}).reduce((e,t)=>(e.appendChild(t),e),document.createElement(t)),s=(e,t,n)=>{const a=document.createElement("button");return a.innerHTML=n||"details",a.onclick=()=>{const n=e(...t);state.body.innerHTML="",state.body.appendChild(n)},a},o=(o,m)=>{history.pushState({},null,window.location.pathname+"?coach="+m.userName);const d=document.createElement("div"),c=document.createElement("h1");c.innerHTML=m.name,d.appendChild(c);const i=document.createElement("h2");if(i.innerHTML=m.userName,d.appendChild(i),m.className){const e=document.createElement("h3");e.innerHTML=m.className,d.appendChild(e)}const u=document.createElement("div");u.style="display: flex; flex-direction: row; align-items : center";const l=t(m);u.appendChild(l);const p=n("issues: assigned",`https://github.com/${o.repoName}/${o.repoName}/issues?q=assignee%3A${m.userName}`),h=n("issues: authored",`https://github.com/${o.repoName}/${o.repoName}/issues?q=author%3A${m.userName}`),N=n(m.userName,`https://github.com/${m.userName}?tab=repositories`),b=n("coach bio",`https://github.com/${o.userName}/${o.repoName}/tree/master/coach-bios/${m.userName}.md`),$=a([p,h,N,b]);u.appendChild($),d.appendChild(u),d.appendChild(document.createElement("hr"));const C=document.createElement("h2");C.innerHTML=m.name+": Module Links";const g=m.modules.map(e=>{e=Object.assign({},e,o.modules.find(t=>t.repoName===e.repoName));const t=document.createElement("div");t.className="module-thumb";const d=document.createElement("h3");d.innerHTML=(e.number?e.number+". ":"")+e.repoName,t.appendChild(d);const c=document.createElement("div");if(c.style="display: inline;",c.appendChild(n("homework board: all student assignments",`https://github.com/${o.userName}/${o.repoName}/projects/${e.project}/`)),c.appendChild(document.createElement("br")),c.appendChild(n("all assigned assignments",`https://github.com/${o.userName}/${o.repoName}/projects/${e.project}/?card_filter_query=assignee%3A${m.userName}`)),e.weeks)for(let t=1;t<=e.weeks;t++)c.appendChild(document.createElement("br")),c.appendChild(n("all assigned week-"+t,`https://github.com/${o.userName}/${o.repoName}/projects/${e.project}/?card_filter_query=label%3Aweek-${t}+assignee%3A${m.userName}`));const i=n("issues: sunday review",`https://github.com/${o.userName}/${o.repoName}/issues/?q=milestone%3A${e.repoName}+label%3Asunday-review`),u=n("issues: assigned",`https://github.com/${o.userName}/${o.repoName}/issues/?q=milestone%3A${e.repoName}+assignee%3A${m.userName}`),l=n("issues: authored",`https://github.com/${o.userName}/${o.repoName}/issues/?q=milestone%3A${e.repoName}+author%3A${m.userName}`),p=n("module repo",`https://github.com/${e.userName||o.moduleOwner||o.userName}/${o.repoName}`),h=s(r,[o,e],"details"),N=a([c,i,u,l,p,h]);return t.appendChild(N),t}),E=e(g,C);return d.appendChild(E),d},r=(r,d)=>{history.pushState({},null,window.location.pathname+"?module="+d.repoName);const c=document.createElement("div"),i=document.createElement("h1");i.innerHTML=d.repoName,c.appendChild(i);const u=document.createElement("h2");u.className="module-thumb-status";const l=d.weeks?d.weeks+" weeks: ":"";u.innerHTML=l+d.status,c.appendChild(u);const p=document.createElement("div");if(p.style="display: inline;",p.innerHTML="homework board: ",p.appendChild(n("all homework",`https://github.com/${r.userName}/${r.repoName}/projects/${d.project}`)),d.weeks)for(let e=1;e<=d.weeks;e++)p.appendChild(document.createElement("br")),p.appendChild(n("homework: week-"+e,`https://github.com/${r.userName}/${r.repoName}/projects/${d.project}?card_filter_query=label%3Aweek-${e}`));const h=document.createElement("div");if(h.style="display: inline;",h.innerHTML="wednesday check-ins: ",h.appendChild(n("all check-ins",`https://github.com/${r.userName}/${r.repoName}/issues/?q=milestone%3A${d.repoName}+label%3Awednesday-check-in`)),d.weeks)for(let e=1;e<=d.weeks;e++)h.appendChild(document.createElement("br")),h.appendChild(n("check-ins: week-"+e,`https://github.com/${r.userName}/${r.repoName}/issues/?q=milestone%3A${d.repoName}+label%3Awednesday-check-in+label%3Aweek-${e}`));const N=n("sunday review issues",`https://github.com/${r.userName}/${r.repoName}/issues/?q=milestone%3A${d.repoName}+label%3Asunday-review`),b=n("all issues",`https://github.com/${r.userName}/${r.repoName}/issues/?q=milestone%3A${d.repoName}`),$=n("class recordings",`https://github.com/${d.userName||r.moduleOwner||r.userName}/${d.repoName}/tree/master/class-recordings.md`),C=n("shared notes",`https://github.com/${r.userName}/${r.repoName}/tree/master/shared-notes/${d.repoName}`),g=document.createElement("div");if(g.style="display: inline;",g.innerHTML="module repository",g.appendChild(n("main page",`https://github.com/${d.userName||r.moduleOwner||r.userName}/${d.repoName}`)),d.weeks)for(let e=1;e<=d.weeks;e++)g.appendChild(document.createElement("br")),g.appendChild(document.createTextNode(`week ${e}:`)),g.appendChild(n("assignments",`https://github.com/${d.userName||r.moduleOwner||r.userName}/${d.repoName}/tree/master/week-${e}`)),g.appendChild(n("lesson plan",`https://${r.domain}/${d.userName||r.moduleOwner||r.userName}/week-${e}`));const E=document.createElement("div");E.appendChild(N),E.appendChild(document.createElement("br")),E.appendChild(b),E.appendChild(document.createElement("br")),E.appendChild(C),E.appendChild(document.createElement("br")),E.appendChild($);const y=a([g,p,h,E]);y.style="display: flex; flex-direction: row; justify-content: space-around;",c.appendChild(y),c.appendChild(document.createElement("hr"));const w=document.createElement("h2");w.innerHTML=`<code>${d.repoName}</code>: Student Links`;const f=r.students.map(e=>{const o=document.createElement("div");o.id=e.name,o.className="student-thumb";const c=t(e);o.appendChild(c);const i=document.createElement("h2");i.innerHTML=e.name,i.className="student-thumb-name";let u=null;e.className&&(u=document.createElement("text"),u.innerHTML=e.className);const l=n(e.userName,`https://github.com/${e.userName}?tab=repositories`),p=n("homework progress",`https://github.com/${r.userName}/${r.repoName}/projects/${d.project}?card_filter_query=author%3A${e.userName}`),h=n("all authored issues",`https://github.com/${r.userName}/${r.repoName}/issues/?q=milestone%3A${d.repoName}+author%3A${e.userName}`),N=n("all assigned issues",`https://github.com/${r.userName}/${r.repoName}/issues/?q=milestone%3A${d.repoName}+assignee%3A${e.userName}`),b=s(m,[r,e],"details"),$=a([i,u,p,h,N,l,b]);return o.appendChild($),o});if("to do"!==d.status){const t=e(f,w);c.appendChild(t)}c.appendChild(document.createElement("hr"));const k=document.createElement("h2");k.innerHTML=`<code>${d.repoName}</code>: Coach Links`;const M=r.coaches.map(e=>{if(!e.modules.find(e=>e.repoName===d.repoName))return;const m=document.createElement("div");m.id=e.name,m.className="student-thumb";const c=t(e);m.appendChild(c);const i=document.createElement("h2");i.innerHTML=e.name,i.className="student-thumb-name",document.createElement("text").innerHTML=e.userName;const u=n("homework to review",`https://github.com/${r.userName}/${r.repoName}/projects/${d.project}?card_filter_query=assignee%3A${e.userName}`),l=n("all assigned issues",`https://github.com/${r.userName}/${r.repoName}/issues/?q=milestone%3A${d.repoName}+assignee%3A${e.userName}`),p=n("all authored issues",`https://github.com/${r.userName}/${r.repoName}/issues/?q=milestone%3A${d.repoName}+author%3A${e.userName}`);let h;if(Array.isArray(e.modules)){const t=e.modules.find(e=>e.repoName===d.repoName).role;t&&(h=document.createElement("text"),h.innerHTML=t)}const N=s(o,[r,e],"details"),b=a([i,h,u,l,p,N]);return m.appendChild(b),m}),A=e(M,k);return c.appendChild(A),c},m=(o,m)=>{history.pushState({},null,window.location.pathname+"?student="+m.userName);const d=document.createElement("div"),c=document.createElement("h1");c.innerHTML=m.name,d.appendChild(c);const i=document.createElement("h2");if(i.innerHTML=m.userName,d.appendChild(i),m.className){const e=document.createElement("h3");e.innerHTML=m.className,d.appendChild(e)}const u=document.createElement("div");u.style="display: flex; flex-direction: row; align-items : center";const l=t(m);u.appendChild(l);const p=n("repositories",`https://github.com/${m.userName}?tab=repositories`),h=n("portfolio","https://"+m.userName+".github.io"),N=n("student bio",`https://github.com/${o.userName}/${o.repoName}/tree/master/student-bios/${m.userName}.md`),b=n("learnables",`https://github.com/${m.userName}?tab=projects`),$=n("hack-my-future",`https://github.com/${m.userName}/hack-my-future`),C=document.createElement("div");C.style="display: inline;",C.innerHTML="class issues: ",C.appendChild(n("homework ",`https://github.com/${o.userName}/${o.repoName}/issues?q=author%3A${m.userName}+label%3Ahomework`)),C.appendChild(n("check-ins",`https://github.com/${o.userName}/${o.repoName}/issues?q=author%3A${m.userName}+label%3Awednesday-check-in`)),C.appendChild(n("sunday review",`https://github.com/${o.userName}/${o.repoName}/issues?q=author%3A${m.userName}+label%3Asunday-review`)),C.appendChild(n("authored",`https://github.com/${o.userName}/${o.repoName}/issues?q=author%3A${m.userName}`)),C.appendChild(n("assigned ",`https://github.com/${o.userName}/${o.repoName}/issues?q=assignee%3A${m.userName}`)),C.appendChild(n("pull requests",`https://github.com/${o.userName}/${o.repoName}/issues?q=author%3A${m.userName}+is%3Apr`));const g=a([C,p,b,$,h,N]);u.appendChild(g),d.appendChild(u);const E=(e=>{if(e.activity)return e.activity.cloneNode(!0);const t=document.createElement("img");return t.alt="activity: "+e.userName,t.src="https://ghchart.rshah.org/"+e.userName,e.activity=t,t})(m);d.appendChild(E),d.appendChild(document.createElement("hr"));const y=document.createElement("h2");y.innerHTML=m.name+": Module Links";const w=o.modules.map(e=>{const t=document.createElement("div");t.className="module-thumb";const d=document.createElement("h3");d.innerHTML=(e.number?e.number+". ":"")+e.repoName,t.appendChild(d);const c=document.createElement("text");c.innerHTML=e.status;const i=document.createElement("div");if(i.style="display: inline;",i.appendChild(n("homework board: "+m.userName,`https://github.com/${o.userName}/${o.repoName}/projects/${e.project}/?card_filter_query=author%3A${m.userName}`)),e.weeks)for(let t=1;t<=e.weeks;t++)i.appendChild(document.createElement("br")),i.appendChild(n(m.userName+": week-"+t,`https://github.com/${o.userName}/${o.repoName}/projects/${e.project}/?card_filter_query=label%3Aweek-${t}+author%3A${m.userName}`));const u=n("issues: homework",`https://github.com/${o.userName}/${o.repoName}/issues/?q=milestone%3A${e.repoName}+author%3A${m.userName}+label%3Ahomework`),l=n("issues: check-ins",`https://github.com/${o.userName}/${o.repoName}/issues/?q=milestone%3A${e.repoName}+author%3A${m.userName}+label%3Awednesday-check-in`),p=n("issues: sunday review",`https://github.com/${o.userName}/${o.repoName}/issues/?q=milestone%3A${e.repoName}+author%3A${m.userName}+label%3Asunday-review`),h=n("issues: assigned",`https://github.com/${o.userName}/${o.repoName}/issues/?q=milestone%3A${e.repoName}+assignee%3A${m.userName}`),N=n("issues: authored",`https://github.com/${o.userName}/${o.repoName}/issues/?q=milestone%3A${e.repoName}+author%3A${m.userName}`),b=s(r,[o,e],"details"),$="to do"===e.status?a([c]):a([c,i,u,l,p,N,h,b]);return t.appendChild($),t}),f=e(w,y);return d.appendChild(f),d},d=(e,s)=>{const o=t(s),r=document.createElement("h2");r.innerHTML=s.name,r.className="student-thumb-name";const d=n("repositories",`https://github.com/${s.userName}?tab=repositories`),c=(n("learnables",`https://github.com/${s.userName}?tab=projects`),n("student bio",`https://github.com/${e.userName}/${e.repoName}/tree/master/student-bios/${s.userName}.md`),document.createElement("button"));c.innerHTML="details",c.onclick=()=>{const t=m(e,s);e.body.innerHTML="",e.body.appendChild(t)};const i=n("all issues",`https://github.com/${e.userName}/${e.repoName}/issues?q=author%3A${s.userName}`),u=n("portfolio",`https://${s.userName}.github.io`),l=(()=>{if(s.className){const e=document.createElement("text");return e.innerHTML=s.className,e}return null})(),p=document.createElement("text");p.innerHTML=s.userName;const h=a([r,p,l,d,u,i,c]),N=document.createElement("div");return N.id=s.name,N.className="student-thumb",N.appendChild(o),N.appendChild(h),N},c=(e,t)=>{const s=document.createElement("h2");s.innerHTML=t.number+". "+t.repoName;const o=document.createElement("text");o.className="module-thumb-status";const m=t.weeks?t.weeks+" weeks: ":"";o.innerHTML=m+t.status;const d=n("homework board",`https://github.com/${e.userName}/${e.repoName}/projects/${t.project}`),c=document.createElement("div");if(c.style="display: inline;",c.appendChild(n("module repo",`https://github.com/${t.userName||e.moduleOwner||e.userName}/${t.repoName}`)),c.appendChild(document.createElement("br")),t.weeks)for(let a=1;a<=t.weeks;a++)c.appendChild(document.createTextNode(`week ${a}:`)),c.appendChild(n("assignments",`https://github.com/${t.userName||e.moduleOwner||e.userName}/${t.repoName}/tree/master/week-${a}`)),c.appendChild(n("lesson plan",`https://${e.domain}/${t.repoName||e.moduleOwner||e.userName}/week-${a}`)),c.appendChild(document.createElement("br"));const i=n("shared notes",`https://github.com/${e.userName}/${e.repoName}/tree/master/shared-notes/${t.repoName}`),u=(n("all issues",`https://github.com/${e.userName}/${e.repoName}/issues?q=milestone%3A${t.repoName}`),n("sunday reviews",`https://github.com/${e.userName}/${e.repoName}/issues?q=milestone%3A${t.repoName}+label%3Asunday-review`)),l=n("wednesday check-ins",`https://github.com/${e.userName}/${e.repoName}/issues?q=milestone%3A${t.repoName}+label%3Awednesday-check-in`),p=document.createElement("button");p.innerHTML="details",p.onclick=()=>{const n=r(e,t);e.body.innerHTML="",e.body.appendChild(n)};const h="to do"===t.status?a([o]):a([o,c,d,l,u,i,p]),N=document.createElement("div");return N.id=t.repoNameName,N.className="module-thumb",N.appendChild(s),N.appendChild(h),N},i=e=>{history.pushState({},null,window.location.pathname+"?randomizer=true");const t=document.createElement("div"),n=document.createElement("div"),a=document.createTextNode("group size: ");n.appendChild(a);const s=document.createElement("input");s.value="2",s.type="number",n.appendChild(s);const o=document.createElement("button");o.innerHTML="create groups",o.onclick=function(){r.innerHTML="";const t=Math.random();if(t<1/3){const e=document.createElement("h1");e.innerHTML="Coaches' Choice",r.appendChild(e)}else if(t<2/3){const e=document.createElement("h1");e.innerHTML="Students' Choice",r.appendChild(e)}else{const t=function(e,t){var n,a,s=(e=e.map(e=>e)).length;for(;0!==s;)a=Math.floor(Math.random()*s),n=e[s-=1],e[s]=e[a],e[a]=n;const o=[];for(;e.length>=t;)o.push(e.splice(0,t));e.length<t/2+1?o[o.length-1].push(...e):o.push(e);return o}([...e.students],s.value);console.log(t);for(let n of t){const t=document.createElement("div");t.style="display: flex; flex-direction: row; flex-wrap: wrap;";for(let a of n){const n=d(e,a);t.appendChild(n)}r.appendChild(t),r.appendChild(document.createElement("hr"))}}},n.appendChild(o),t.appendChild(n);const r=document.createElement("div");return t.appendChild(r),t};var u=s=>{const r=document.createElement("div");return r.className="home",r.appendChild(e(s.modules.map(e=>c(s,e)),"Modules: "+s.repoName)),r.appendChild(document.createElement("hr")),r.appendChild(document.createElement("hr")),r.appendChild(e(s.students.map(e=>d(s,e)),"Students: "+s.repoName)),r.appendChild(document.createElement("hr")),r.appendChild(document.createElement("hr")),r.appendChild(e(s.coaches.map(e=>((e,s)=>{const r=t(s),m=document.createElement("h2");m.innerHTML=s.name,m.className="student-thumb-name";const d=n("on github","https://github.com/"+s.userName),c=(n("coach bio",`https://github.com/${e.userName}/${e.repoName}/tree/master/coach-bios/${s.userName}.md`),document.createElement("button"));c.innerHTML="details",c.onclick=()=>{const t=o(e,s);e.body.innerHTML="",e.body.appendChild(t)};const i=n("assigned issues",`https://github.com/${e.userName}/${e.repoName}/issues?q=assignee%3A${s.userName}`),u=s.modules.map(e=>{const t=document.createElement("text");return t.innerHTML=`<code>${e.repoName}</code>`,t}),l=document.createElement("text");l.innerHTML=s.userName;const p=a([m,l,d,i,c,...u]),h=document.createElement("div");return h.id=s.name,h.className="student-thumb",h.appendChild(r),h.appendChild(p),h})(s,e)),"Coaches: "+s.repoName)),r},l=e=>{const t=document.createElement("div");t.className="header-footer",t.id="class-app",t.appendChild(document.createElement("hr"));const n=document.createElement("div");n.className="header-footer-header";const a=document.createElement("button");a.innerHTML="Class Home Page";a.onclick=()=>{history.pushState({},null,window.location.pathname),e.currentModule=null,e.currentStudent=null,e.body.innerHTML="",e.body.appendChild(u(e))},n.appendChild(a);const s=document.createElement("a");s.href="https://github.com/"+e.userName+"/"+e.repoName+"/issues?q=label%3Asunday-review",s.target="_blank";const o=document.createElement("button");o.innerHTML="Sunday Reviews",s.appendChild(o),n.appendChild(s);const r=document.createElement("a");r.href="https://github.com/"+e.userName+"/"+e.repoName+"/issues?q=label%3Aroll-call",r.target="_blank";const m=document.createElement("button");m.innerHTML="Roll Calls",r.appendChild(m),n.appendChild(r);const d=document.createElement("a");d.href="https://github.com/"+e.userName+"/"+e.repoName+"/issues",d.target="_blank";const c=document.createElement("button");c.innerHTML="Issues",d.appendChild(c),n.appendChild(d);const l=document.createElement("a");l.href="https://github.com/"+e.userName+"/"+e.repoName,l.target="_blank";const p=document.createElement("button");p.innerHTML="Repo",l.appendChild(p),n.appendChild(l);const h=document.createElement("button");h.innerHTML="Randomizer",h.onclick=()=>{e.currentModule=null,e.currentStudent=null,e.body.innerHTML="",e.body.appendChild(i(e))},n.appendChild(h),n.appendChild(document.createElement("br")),n.appendChild(document.createElement("br"));const N=document.createElement("a");N.href=`https://home.${e.domain}/`,N.target="_blank";const b=document.createElement("button");b.innerHTML="HYF Home",N.appendChild(b),n.appendChild(N);const $=document.createElement("a");$.href=`https://home.${e.domain}/students/homework-submission`,$.target="_blank";const C=document.createElement("button");C.innerHTML="Homework Submission",$.appendChild(C),n.appendChild($);const g=document.createElement("a");g.href="https://study."+e.domain,g.target="_blank";const E=document.createElement("button");E.innerHTML="Study Links",g.appendChild(E),n.appendChild(g);const y=document.createElement("a");y.href=`https://home.${e.domain}/curriculum`,y.target="_blank";const w=document.createElement("button");w.innerHTML="Curriculum",y.appendChild(w),n.appendChild(y);const f=document.createElement("a");f.href=`https://home.${e.domain}/students`,f.target="_blank";const k=document.createElement("button");return k.innerHTML="Student Guidebook",f.appendChild(k),n.appendChild(f),t.appendChild(n),t.appendChild(document.createElement("hr")),t};window.onload=()=>{const e=e=>fetch(e).then(e=>e.json()).catch(e=>console.log(e));console.log("loading data ..."),Promise.all([e("./class-data/index.json"),e("./class-data/students.json"),e("./class-data/coaches.json"),e("./class-data/modules.json")]).then(e=>{console.log("building state ...");const t=e[0];t.students=e[1],t.coaches=e[2],t.modules=e[3],t.modules.forEach(e=>{e.coaches=[],t.coaches.forEach(t=>{t.modules.find(e=>e.repoName)&&e.coaches.push(t)})}),console.log("rendering ..."),window.state=((e,t)=>{e.container||(e.container=t instanceof Element?t:"string"==typeof t?document.getElementById(t):document.createElement("div")),e.body=document.createElement("div"),e.body.id="body",e.body.style="padding-top: 3%; padding-bottom: 3%;";const n=document.createElement("h1");n.innerHTML=e.repoName,n.className="header-footer-title",e.container.appendChild(n),e.container.appendChild(l(e)),e.container.appendChild(e.body),e.container.appendChild(l(e)),e.container.appendChild(document.createElement("br")),e.students.forEach(e=>e.views={});const a=new URL(window.location.href).searchParams;if(a.get("randomizer"))return e.currentModule=null,e.currentStudent=null,e.body.innerHTML="",e.body.appendChild(i(e)),e;const s=a.get("student");e.currentStudent=e.students.find(e=>e.name===s)||e.students.find(e=>e.userName===s);const p=a.get("module");e.currentModule=e.modules.find(e=>e.repoName===p);const h=a.get("coach");return e.currentCoach=e.coaches.find(e=>e.userName===h),e.currentStudent&&e.currentModule?(e.body.appendChild(d(e,e.currentStudent)),e.body.appendChild(document.createElement("hr")),e.body.appendChild(c(e,e.currentModule))):e.currentStudent?e.body.appendChild(m(e,e.currentStudent)):e.currentCoach?e.body.appendChild(o(e,e.currentCoach)):e.currentModule?e.body.appendChild(r(e,e.currentModule)):e.body.appendChild(u(e)),e})(t,document.getElementById("root")),console.log("initial state:",state)}).catch(e=>console.error(e))}}();

!function(){"use strict";var e=(e,t)=>{const n=e.filter(e=>e instanceof Element).reduce((e,t)=>(e.appendChild(t),e),document.createElement("div"));n.className="display-many-items","string"==typeof t&&(n.id=t);const a=document.createElement("details");if(a.id=t,t){if("string"==typeof t){const e=document.createElement("h1");e.style="display: inline;",e.innerHTML=t;const n=document.createElement("summary");n.appendChild(e),a.appendChild(n)}else if(t instanceof Element){const e=document.createElement("summary");t.style.display="inline",e.appendChild(t),a.appendChild(e)}}else;return a.appendChild(n),a.className="display-many",a},t=e=>{if(e.img)return e.img.cloneNode(!0);const t=document.createElement("img");return t.alt="avatar: "+e.userName,t.className="student-thumb-img",t.src=`https://github.com/${e.userName}.png?size=150`,e.img=t,t},n=(e,t)=>{const n=document.createElement("button");n.innerHTML=e;const a=document.createElement("a");return a.href=t,a.target="_blank",a.appendChild(n),a},a=(e,t="ul")=>e.filter(e=>e instanceof Element).map(e=>{const t=document.createElement("li");return t.appendChild(e),t}).reduce((e,t)=>(e.appendChild(t),e),document.createElement(t)),s=(s,o)=>{history.pushState({},null,window.location.pathname+"?student="+o.userName);const r=document.createElement("div"),m=document.createElement("h1");m.innerHTML=o.name,r.appendChild(m);const d=document.createElement("h2");if(d.innerHTML=o.userName,r.appendChild(d),o.className){const e=document.createElement("h3");e.innerHTML=o.className,r.appendChild(e)}const c=document.createElement("div");c.style="display: flex; flex-direction: row; align-items : center";const u=t(o);c.appendChild(u);const i=n("repositories",`https://github.com/${o.userName}?tab=repositories`),l=n("portfolio","https://"+o.userName+".github.io"),p=n("student bio",`https://github.com/${s.userName}/${s.repoName}/tree/master/student-bios/${o.userName}.md`),h=n("learnables",`https://github.com/${o.userName}?tab=projects`),N=document.createElement("div");N.style="display: inline;",N.innerHTML="class issues: ",N.appendChild(n("homework ",`https://github.com/${s.userName}/${s.repoName}/issues?q=author%3A${o.userName}+label%3Ahomework`)),N.appendChild(n("check-ins",`https://github.com/${s.userName}/${s.repoName}/issues?q=author%3A${o.userName}+label%3Awednesday-check-in`)),N.appendChild(n("sunday review",`https://github.com/${s.userName}/${s.repoName}/issues?q=author%3A${o.userName}+label%3Asunday-review`)),N.appendChild(n("authored",`https://github.com/${s.userName}/${s.repoName}/issues?q=author%3A${o.userName}`)),N.appendChild(n("assigned ",`https://github.com/${s.userName}/${s.repoName}/issues?q=assignee%3A${o.userName}`)),N.appendChild(n("pull requests",`https://github.com/${s.userName}/${s.repoName}/issues?q=author%3A${o.userName}+isis%3Apr`));const b=a([N,h,i,l,p]);c.appendChild(b),r.appendChild(c);const $=(e=>{if(e.activity)return e.activity.cloneNode(!0);const t=document.createElement("img");return t.alt="activity: "+e.userName,t.src="https://ghchart.rshah.org/"+e.userName,e.activity=t,t})(o);r.appendChild($),r.appendChild(document.createElement("hr"));const C=document.createElement("h2");C.innerHTML=o.name+": Module Links";const g=s.modules.map(e=>{const t=document.createElement("div");t.className="module-thumb";const r=document.createElement("h3");r.innerHTML=(e.number?e.number+". ":"")+e.repoName,t.appendChild(r);const m=document.createElement("text");m.innerHTML=e.status;const d=document.createElement("div");if(d.style="display: inline;",d.appendChild(n("homework board: "+o.userName,`https://github.com/${s.userName}/${s.repoName}/projects/${e.project}/?card_filter_query=author%3A${o.userName}`)),e.weeks)for(let t=1;t<=e.weeks;t++)d.appendChild(document.createElement("br")),d.appendChild(n(o.userName+": week-"+t,`https://github.com/${s.userName}/${s.repoName}/projects/${e.project}/?card_filter_query=label%3Aweek-${t}+author%3A${o.userName}`));const c=n("issues: homework",`https://github.com/${s.userName}/${s.repoName}/issues/?q=milestone%3A${e.repoName}+author%3A${o.userName}+label%3Ahomework`),u=n("issues: check-ins",`https://github.com/${s.userName}/${s.repoName}/issues/?q=milestone%3A${e.repoName}+author%3A${o.userName}+label%3Awednesday-check-in`),i=n("issues: sunday review",`https://github.com/${s.userName}/${s.repoName}/issues/?q=milestone%3A${e.repoName}+author%3A${o.userName}+label%3Asunday-review`),l=n("issues: assigned",`https://github.com/${s.userName}/${s.repoName}/issues/?q=milestone%3A${e.repoName}+assignee%3A${o.userName}`),p=n("issues: authored",`https://github.com/${s.userName}/${s.repoName}/issues/?q=milestone%3A${e.repoName}+author%3A${o.userName}`),h="to do"===e.status?a([m]):a([m,d,c,u,i,p,l]);return t.appendChild(h),t}),E=e(g,C);return r.appendChild(E),r},o=(e,o)=>{const r=t(o),m=document.createElement("h2");m.innerHTML=o.name,m.className="student-thumb-name";const d=n(o.userName,`https://github.com/${o.userName}?tab=repositories`),c=n("learnables",`https://github.com/${o.userName}?tab=projects`),u=n("student bio",`https://github.com/${e.userName}/${e.repoName}/tree/master/student-bios/${o.userName}.md`),i=document.createElement("button");i.innerHTML="details",i.onclick=()=>{const t=s(e,o);e.body.innerHTML="",e.body.appendChild(t)};const l=n("all issues",`https://github.com/${e.userName}/${e.repoName}/issues?q=author%3A${o.userName}`),p=(()=>{if(o.className){const e=document.createElement("text");return e.innerHTML=o.className,e}return null})(),h=a([m,p,d,u,c,l,i]),N=document.createElement("div");return N.id=o.name,N.className="student-thumb",N.appendChild(r),N.appendChild(h),N},r=(s,o)=>{history.pushState({},null,window.location.pathname+"?module="+o.repoName);const r=document.createElement("div"),m=document.createElement("h1");m.innerHTML=o.repoName,r.appendChild(m);const d=document.createElement("h2");d.className="module-thumb-status";const c=o.weeks?o.weeks+" weeks: ":"";d.innerHTML=c+o.status,r.appendChild(d);const u=document.createElement("div");if(u.style="display: inline;",u.innerHTML="homework board: ",u.appendChild(n("all homework",`https://github.com/${s.userName}/${s.repoName}/projects/${o.project}`)),o.weeks)for(let e=1;e<=o.weeks;e++)u.appendChild(document.createElement("br")),u.appendChild(n("homework: week-"+e,`https://github.com/${s.userName}/${s.repoName}/projects/${o.project}?card_filter_query=label%3Aweek-${e}`));const i=document.createElement("div");if(i.style="display: inline;",i.innerHTML="wednesday check-ins: ",i.appendChild(n("all check-ins",`https://github.com/${s.userName}/${s.repoName}/issues/?q=milestone%3A${o.repoName}+label%3Awednesday-check-in`)),o.weeks)for(let e=1;e<=o.weeks;e++)i.appendChild(document.createElement("br")),i.appendChild(n("check-ins: week-"+e,`https://github.com/${s.userName}/${s.repoName}/issues/?q=milestone%3A${o.repoName}+label%3Awednesday-check-in+label%3Aweek-${e}`));const l=n("sunday review issues",`https://github.com/${s.userName}/${s.repoName}/issues/?q=milestone%3A${o.repoName}+label%3Asunday-review`),p=n("all issues",`https://github.com/${s.userName}/${s.repoName}/issues/?q=milestone%3A${o.repoName}`),h=n("shared notes",`https://github.com/${s.userName}/${s.repoName}/tree/master/shared-notes/${o.repoName}.md`),N=document.createElement("div");if(N.style="display: inline;",N.innerHTML="module repository",N.appendChild(n("main page",`https://github.com/${o.userName||s.userName}/${s.repoName}`)),o.weeks)for(let e=1;e<=o.weeks;e++)N.appendChild(document.createElement("br")),N.appendChild(document.createTextNode(`week ${e}:`)),N.appendChild(n("assignments",`https://github.com/${o.userName||s.userName}/${o.repoName}/tree/master/week-${e}`)),N.appendChild(n("lesson plan",`https://hackyourfuture.be/${o.repoName}/week-${e}`));const b=document.createElement("div");b.appendChild(l),b.appendChild(document.createElement("br")),b.appendChild(p),b.appendChild(document.createElement("br")),b.appendChild(h);const $=a([N,u,i,b]);$.style="display: flex; flex-direction: row; justify-content: space-around;",r.appendChild($),r.appendChild(document.createElement("hr"));const C=document.createElement("h2");C.innerHTML=`<code>${o.repoName}</code>: Student Links`;const g=s.students.map(e=>{const r=document.createElement("div");r.id=e.name,r.className="student-thumb";const m=t(e);r.appendChild(m);const d=document.createElement("h2");d.innerHTML=e.name,d.className="student-thumb-name";const c=document.createElement("text");c.innerHTML=e.userName;const u=n("homework progress",`https://github.com/${s.userName}/${s.repoName}/projects/${o.project}?card_filter_query=author%3A${e.userName}`),i=n("all authored issues",`https://github.com/${s.userName}/${s.repoName}/issues/?q=milestone%3A${o.repoName}+author%3A${e.userName}`),l=n("all assigned issues",`https://github.com/${s.userName}/${s.repoName}/issues/?q=milestone%3A${o.repoName}+assingee%3A${e.userName}`),p=a([d,c,u,i,l]);return r.appendChild(p),r});if("to do"!==o.status){const t=e(g,C);r.appendChild(t)}r.appendChild(document.createElement("hr"));const E=document.createElement("h2");E.innerHTML=`<code>${o.repoName}</code>: Coach Links`;const y=s.coaches.map(e=>{if(!e.modules.find(e=>e.repoName===o.repoName))return;const r=document.createElement("div");r.id=e.name,r.className="student-thumb";const m=t(e);r.appendChild(m);const d=document.createElement("h2");d.innerHTML=e.name,d.className="student-thumb-name",document.createElement("text").innerHTML=e.userName;const c=n("homework to review",`https://github.com/${s.userName}/${s.repoName}/projects/${o.project}?card_filter_query=assignee%3A${e.userName}`),u=n("all assigned issues",`https://github.com/${s.userName}/${s.repoName}/issues/?q=milestone%3A${o.repoName}+assignee%3A${e.userName}`),i=n("all authored issues",`https://github.com/${s.userName}/${s.repoName}/issues/?q=milestone%3A${o.repoName}+author%3A${e.userName}`);let l;if(Array.isArray(e.modules)){const t=e.modules.find(e=>e.repoName===o.repoName).role;t&&(l=document.createElement("text"),l.innerHTML=t)}const p=a([d,l,c,u,i]);return r.appendChild(p),r}),f=e(y,E);return r.appendChild(f),r},m=(e,t)=>{const s=document.createElement("h2");s.innerHTML=t.number+". "+t.repoName;const o=document.createElement("text");o.className="module-thumb-status";const m=t.weeks?t.weeks+" weeks: ":"";o.innerHTML=m+t.status;const d=n("homework board",`https://github.com/${e.userName}/${e.repoName}/projects/${t.project}`),c=n("module repo",`https://github.com/${t.userName||e.userName}/${t.repoName}`),u=n("shared notes",`https://github.com/${e.userName}/${e.repoName}/tree/master/shared-notes/${t.repoName}.md`),i=n("all issues",`https://github.com/${e.userName}/${e.repoName}/issues?q=milestone%3A${t.repoName}`),l=document.createElement("button");l.innerHTML="details",l.onclick=()=>{const n=r(e,t);e.body.innerHTML="",e.body.appendChild(n)};const p="to do"===t.status?a([o]):a([o,d,i,c,u,l]),h=document.createElement("div");return h.id=t.repoNameName,h.className="module-thumb",h.appendChild(s),h.appendChild(p),h},d=(s,o)=>{history.pushState({},null,window.location.pathname+"?coach="+o.userName);const r=document.createElement("div"),m=document.createElement("h1");m.innerHTML=o.name,r.appendChild(m);const d=document.createElement("h2");if(d.innerHTML=o.userName,r.appendChild(d),o.className){const e=document.createElement("h3");e.innerHTML=o.className,r.appendChild(e)}const c=document.createElement("div");c.style="display: flex; flex-direction: row; align-items : center";const u=t(o);c.appendChild(u);const i=n("issues: assigned",`https://github.com/${s.repoName}/${s.repoName}/issues?q=assignee%3A${o.userName}`),l=n("issues: authored",`https://github.com/${s.repoName}/${s.repoName}/issues?q=author%3A${o.userName}`),p=n(o.userName,`https://github.com/${o.userName}?tab=repositories`),h=n("coach bio",`https://github.com/${s.userName}/${s.repoName}/tree/master/coach-bios/${o.userName}.md`),N=a([i,l,p,h]);c.appendChild(N),r.appendChild(c),r.appendChild(document.createElement("hr"));const b=document.createElement("h2");b.innerHTML=o.name+": Module Links";const $=o.modules.map(e=>{console.log(e),e=Object.assign({},e,s.modules.find(t=>t.repoName===e.repoName)),console.log(e);const t=document.createElement("div");t.className="module-thumb";const r=document.createElement("h3");r.innerHTML=(e.number?e.number+". ":"")+e.repoName,t.appendChild(r);const m=document.createElement("div");if(m.style="display: inline;",m.appendChild(n("homework board: all student assignments",`https://github.com/${s.userName}/${s.repoName}/projects/${e.project}/`)),m.appendChild(document.createElement("br")),m.appendChild(n("all assigned assignments",`https://github.com/${s.userName}/${s.repoName}/projects/${e.project}/?card_filter_query=assignee%3A${o.userName}`)),e.weeks)for(let t=1;t<=e.weeks;t++)m.appendChild(document.createElement("br")),m.appendChild(n("all assigned week-"+t,`https://github.com/${s.userName}/${s.repoName}/projects/${e.project}/?card_filter_query=label%3Aweek-${t}+assignee%3A${o.userName}`));const d=n("issues: sunday review",`https://github.com/${s.userName}/${s.repoName}/issues/?q=milestone%3A${e.repoName}+label%3Asunday-review`),c=n("issues: assigned",`https://github.com/${s.userName}/${s.repoName}/issues/?q=milestone%3A${e.repoName}+assignee%3A${o.userName}`),u=n("issues: authored",`https://github.com/${s.userName}/${s.repoName}/issues/?q=milestone%3A${e.repoName}+author%3A${o.userName}`),i=n("module repo",`https://github.com/${s.userName}/${s.repoName}`),l=a([m,d,c,u,i]);return t.appendChild(l),t}),C=e($,b);return r.appendChild(C),r},c=e=>{history.pushState({},null,window.location.pathname+"?randomizer=true");const t=document.createElement("div"),n=document.createElement("div"),a=document.createTextNode("group size: ");n.appendChild(a);const s=document.createElement("input");s.value="2",s.type="number",n.appendChild(s);const r=document.createElement("button");r.innerHTML="create groups",r.onclick=function(){m.innerHTML="";const t=Math.random();if(t<1/3){const e=document.createElement("h1");e.innerHTML="Coaches' Choice",m.appendChild(e)}else if(t<2/3){const e=document.createElement("h1");e.innerHTML="Students' Choice",m.appendChild(e)}else{const t=function(e,t){var n,a,s=(e=e.map(e=>e)).length;for(;0!==s;)a=Math.floor(Math.random()*s),n=e[s-=1],e[s]=e[a],e[a]=n;const o=[];for(;e.length>=t;)o.push(e.splice(0,t));e.length<t/2+1?o[o.length-1].push(...e):o.push(e);return o}([...e.students],s.value);console.log(t);for(let n of t){const t=document.createElement("div");t.style="display: flex; flex-direction: row; flex-wrap: wrap;";for(let a of n){const n=o(e,a);t.appendChild(n)}m.appendChild(t),m.appendChild(document.createElement("hr"))}}},n.appendChild(r),t.appendChild(n);const m=document.createElement("div");return t.appendChild(m),t};var u=s=>{const r=document.createElement("div");return r.className="home",r.appendChild(e(s.students.map(e=>o(s,e)),"Students: "+s.repoName)),r.appendChild(document.createElement("hr")),r.appendChild(document.createElement("hr")),r.appendChild(e(s.coaches.map(e=>((e,s)=>{const o=t(s),r=document.createElement("h2");r.innerHTML=s.name,r.className="student-thumb-name";const m=n(s.userName,"https://github.com/"+s.userName),c=n("coach bio",`https://github.com/${e.userName}/${e.repoName}/tree/master/coach-bios/${s.userName}.md`),u=document.createElement("button");u.innerHTML="details",u.onclick=()=>{const t=d(e,s);e.body.innerHTML="",e.body.appendChild(t)};const i=n("assigned issues",`https://github.com/${e.userName}/${e.repoName}/issues?q=assignee%3A${s.userName}`),l=s.modules.map(e=>{const t=document.createElement("text");return t.innerHTML=`<code>${e.repoName}</code>`,t}),p=a([r,m,c,i,...l,u]),h=document.createElement("div");return h.id=s.name,h.className="student-thumb",h.appendChild(o),h.appendChild(p),h})(s,e)),"Coaches: "+s.repoName)),r.appendChild(document.createElement("hr")),r.appendChild(document.createElement("hr")),r.appendChild(e(s.modules.map(e=>m(s,e)),"Modules: "+s.repoName)),r},i=e=>{const t=document.createElement("div");t.className="header-footer",t.id="class-app",t.appendChild(document.createElement("hr"));const n=document.createElement("div");n.className="header-footer-header";const a=document.createElement("button");a.innerHTML="Class Home Page";a.onclick=()=>{history.pushState({},null,window.location.pathname),e.currentModule=null,e.currentStudent=null,e.body.innerHTML="",e.body.appendChild(u(e))},n.appendChild(a);const s=document.createElement("a");s.href="https://github.com/"+e.userName+"/"+e.repoName+"/projects",s.target="_blank";const o=document.createElement("button");o.innerHTML="Class HW Boards",s.appendChild(o),n.appendChild(s);const r=document.createElement("a");r.href="https://github.com/"+e.userName+"/"+e.repoName+"/issues?q=label%3Asunday-review",r.target="_blank";const m=document.createElement("button");m.innerHTML="Sunday Reviews",r.appendChild(m),n.appendChild(r);const d=document.createElement("a");d.href="https://github.com/"+e.userName+"/"+e.repoName+"/issues",d.target="_blank";const i=document.createElement("button");i.innerHTML="Class Issues",d.appendChild(i),n.appendChild(d);const l=document.createElement("a");l.href="https://github.com/"+e.userName+"/"+e.repoName,l.target="_blank";const p=document.createElement("button");p.innerHTML="Class Repo",l.appendChild(p),n.appendChild(l);const h=document.createElement("button");h.innerHTML="Randomizer",h.onclick=()=>{e.currentModule=null,e.currentStudent=null,e.body.innerHTML="",e.body.appendChild(c(e))},n.appendChild(h),n.appendChild(document.createElement("br")),n.appendChild(document.createElement("br"));const N=document.createElement("a");N.href="https://home.hackyourfuture.be/",N.target="_blank";const b=document.createElement("button");b.innerHTML="HYF Home",N.appendChild(b),n.appendChild(N);const $=document.createElement("a");$.href="https://home.hackyourfuture.be/students/homework-submission",$.target="_blank";const C=document.createElement("button");C.innerHTML="Homework Submission",$.appendChild(C),n.appendChild($);const g=document.createElement("a");g.href="https://study.hackyourfuture.be",g.target="_blank";const E=document.createElement("button");E.innerHTML="Study Links",g.appendChild(E),n.appendChild(g);const y=document.createElement("a");y.href="https://home.hackyourfuture.be/curriculum",y.target="_blank";const f=document.createElement("button");f.innerHTML="Curriculum",y.appendChild(f),n.appendChild(y);const w=document.createElement("a");w.href="https://home.hackyourfuture.be/students",w.target="_blank";const k=document.createElement("button");return k.innerHTML="Student Guidebook",w.appendChild(k),n.appendChild(w),t.appendChild(n),t.appendChild(document.createElement("hr")),t};window.onload=()=>{const e=e=>fetch(e).then(e=>e.json()).catch(e=>console.log(e));console.log("loading data ..."),Promise.all([e("./class-data/index.json"),e("./class-data/students.json"),e("./class-data/coaches.json"),e("./class-data/modules.json")]).then(e=>{console.log("building state ...");const t=e[0];t.students=e[1],t.coaches=e[2],t.modules=e[3],t.modules.forEach(e=>{e.coaches=[],t.coaches.forEach(t=>{t.modules.find(e=>e.repoName)&&e.coaches.push(t)})}),console.log("rendering ..."),window.state=((e,t)=>{e.container||(e.container=t instanceof Element?t:"string"==typeof t?document.getElementById(t):document.createElement("div")),e.body=document.createElement("div"),e.body.id="body",e.body.style="padding-top: 3%; padding-bottom: 3%;";const n=document.createElement("h1");n.innerHTML=e.repoName,n.className="header-footer-title",e.container.appendChild(n),e.container.appendChild(i(e)),e.container.appendChild(e.body),e.container.appendChild(i(e)),e.container.appendChild(document.createElement("br")),e.students.forEach(e=>e.views={});const a=new URL(window.location.href).searchParams;if(a.get("randomizer"))return e.currentModule=null,e.currentStudent=null,e.body.innerHTML="",e.body.appendChild(c(e)),e;const l=a.get("student");e.currentStudent=e.students.find(e=>e.name===l)||e.students.find(e=>e.userName===l);const p=a.get("module");e.currentModule=e.modules.find(e=>e.repoName===p);const h=a.get("coach");return e.currentCoach=e.coaches.find(e=>e.userName===h),e.currentStudent&&e.currentModule?(e.body.appendChild(o(e,e.currentStudent)),e.body.appendChild(document.createElement("hr")),e.body.appendChild(m(e,e.currentModule))):e.currentStudent?e.body.appendChild(s(e,e.currentStudent)):e.currentCoach?e.body.appendChild(d(e,e.currentCoach)):e.currentModule?e.body.appendChild(r(e,e.currentModule)):e.body.appendChild(u(e)),e})(t,document.getElementById("root")),console.log("initial state:",state)}).catch(e=>console.error(e))}}();
